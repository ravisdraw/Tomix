import{a as W}from"./chunk-WXO5BKQI.js";import{A as le,B as oe,F as ae,G as re,H as se,a as L,j as U,m as q,n as $,p as Y,q as P,r as J,s as K,t as Q,u as X,v as Z,w as ee,x as te,y as ne,z as ie}from"./chunk-ODYORDEL.js";import{$ as G,Aa as O,B as _,Ba as N,Ea as k,Ha as w,J as s,M as T,N as D,Ra as z,Va as B,W as g,X as v,Y as H,_ as M,aa as x,ba as l,ca as i,da as f,ia as b,ja as u,la as m,qa as R,ra as S,sa as F,t as I,ta as r,u as c,ua as A,v as p,va as h,wa as j,za as V}from"./chunk-5JVNEETK.js";var ue=()=>[1,2,3],de=()=>({standalone:!0}),ce=(a,t)=>t.plan_id,_e=(a,t)=>t.id;function ge(a,t){a&1&&(l(0,"div",36),f(1,"div",37),i())}function ve(a,t){a&1&&(l(0,"div",12),M(1,ge,2,0,"div",36,H),i()),a&2&&(s(),G(k(0,ue)))}function xe(a,t){a&1&&(l(0,"div",13),r(1," No investment plans added "),i())}function fe(a,t){if(a&1&&(l(0,"div",58)(1,"span",52),r(2,"Current Value"),i(),l(3,"span",60),r(4),i()()),a&2){let e=m().$implicit,n=m(2);s(4),h("\u20B9",n.formatIndianRupee(n.getCurrentValue(e.plan_id,n.getPlanTotalGramsFromMap(e.plan_id))))}}function he(a,t){if(a&1){let e=b();l(0,"div",61),u("click",function(o){return c(e),p(o.stopPropagation())}),l(1,"button",62),u("click",function(){c(e);let o=m().$implicit,d=m(2);return p(d.editPlan(o))}),f(2,"i",63),i(),l(3,"button",64),u("click",function(){c(e);let o=m().$implicit,d=m(2);return p(d.deletePlan(o.id))}),f(4,"i",65),i()()}}function ye(a,t){if(a&1){let e=b();l(0,"div",38)(1,"div",39)(2,"div",40)(3,"div",41)(4,"div",42),f(5,"i",43),l(6,"span",44),r(7),i()(),l(8,"div",45)(9,"button",46),u("click",function(o){let d=c(e).$implicit;return m(2).showPlanHistory(d),p(o.stopPropagation())}),f(10,"i",47),i()()(),l(11,"div",48)(12,"div",49),r(13),i()(),l(14,"div",50)(15,"div",51)(16,"span",52),r(17,"Total Amount Invested"),i(),l(18,"span",53),r(19),i()(),l(20,"div",54)(21,"span",52),r(22,"Total Grams Saved"),i(),l(23,"span",53),r(24),i()(),l(25,"div",54)(26,"span",52),r(27,"Current Rate"),i(),l(28,"div",55)(29,"span",56),r(30,"\u20B9"),i(),l(31,"input",57),u("input",function(o){let d=c(e).$implicit,y=m(2);return p(y.updateCurrentRate(d.plan_id,+o.target.value))}),i(),l(32,"span",56),r(33,"/g"),i()()(),g(34,fe,5,1,"div",58),i(),g(35,he,5,0,"div",59),i()()()}if(a&2){let e=t.$implicit,n=m(2);s(2),R("background",n.getPlanGradient(e.investment_type)),s(3),S("bx-trophy",e.investment_type==="gold")("bx-medal",e.investment_type==="silver"),s(2),A(e.investment_type),s(6),A(e.plan_name),s(6),h("\u20B9",n.formatIndianRupee(n.getPlanTotalAmount(e.plan_id))),s(5),h("",n.getPlanTotalGramsFromMap(e.plan_id).toFixed(3),"g"),s(7),x("value",n.getCurrentRate(e.plan_id)),s(3),v(n.getCurrentRate(e.plan_id)>0?34:-1),s(),v(n.selectedPlanId()===e.plan_id?35:-1)}}function be(a,t){if(a&1&&(l(0,"div",12),M(1,ye,36,13,"div",38,ce),i()),a&2){let e=m();s(),G(e.allPlans())}}function Ce(a,t){a&1&&(l(0,"div",70),r(1," Loading history... "),i())}function we(a,t){a&1&&(l(0,"div",70),r(1," No history found for this plan "),i())}function Se(a,t){if(a&1){let e=b();l(0,"tr",77)(1,"td",78),r(2),i(),l(3,"td",79),r(4),i(),l(5,"td",78),r(6),i(),l(7,"td",78),r(8),i(),l(9,"td",78),r(10),i(),l(11,"td",78)(12,"span",80),r(13),i()(),l(14,"td",81)(15,"button",82),u("click",function(){let o=c(e).$implicit,d=m(3);return p(d.deleteHistoryEntry(o.id))}),f(16,"i",83),i()()()}if(a&2){let e=t.$implicit,n=m(3);s(2),A(n.formatPaidDate(e.paid_date)),s(2),A(e.plan_name),s(2),h("\u20B9",n.formatIndianRupee(e.monthly_amount)),s(2),h("\u20B9",n.formatIndianRupee(e.gold_rate||0),"/g"),s(2),h("",n.getPlanGrams(e).toFixed(3),"g"),s(2),S("bg-yellow-100",e.investment_type==="gold")("text-yellow-800",e.investment_type==="gold")("bg-gray-100",e.investment_type==="silver")("text-gray-800",e.investment_type==="silver"),s(),h(" ",e.investment_type," ")}}function Pe(a,t){if(a&1&&(l(0,"div",71)(1,"table",72)(2,"thead",73)(3,"tr")(4,"th",74),r(5,"Month"),i(),l(6,"th",74),r(7,"Plan Name"),i(),l(8,"th",74),r(9,"Amount"),i(),l(10,"th",74),r(11,"Rate"),i(),l(12,"th",74),r(13,"Grams"),i(),l(14,"th",74),r(15,"Type"),i(),l(16,"th",75),r(17,"Action"),i()()(),l(18,"tbody",76),M(19,Se,17,14,"tr",77,_e),i()()()),a&2){let e=m(2);s(19),G(e.planHistory())}}function Ee(a,t){if(a&1){let e=b();l(0,"div",14)(1,"div",66)(2,"h3",67),r(3,"Investment History"),i(),l(4,"button",68),u("click",function(){c(e);let o=m();return o.showHistoryForPlan.set(null),p(o.planHistory.set([]))}),f(5,"i",69),i()(),g(6,Ce,2,0,"div",70)(7,we,2,0,"div",70)(8,Pe,21,0,"div",71),i()}if(a&2){let e=m();s(6),v(e.isLoadingHistory()?6:e.planHistory().length===0?7:8)}}function Ie(a,t){if(a&1){let e=b();l(0,"div",20)(1,"label",84)(2,"input",85),N("ngModelChange",function(o){c(e);let d=m();return O(d.isAddingNew,o)||(d.isAddingNew=o),p(o)}),u("change",function(){c(e);let o=m();return p(o.onCardTypeChange())}),i(),l(3,"span",21),r(4,"Add New Plan"),i()(),l(5,"label",84)(6,"input",85),N("ngModelChange",function(o){c(e);let d=m();return O(d.isAddingNew,o)||(d.isAddingNew=o),p(o)}),u("change",function(){c(e);let o=m();return p(o.onCardTypeChange())}),i(),l(7,"span",21),r(8,"Select Existing"),i()()()}if(a&2){let e=m();s(2),x("value",!0),V("ngModel",e.isAddingNew),x("ngModelOptions",k(6,de)),s(4),x("value",!1),V("ngModel",e.isAddingNew),x("ngModelOptions",k(7,de))}}function Me(a,t){if(a&1&&(l(0,"option",88),r(1),i()),a&2){let e=t.$implicit;x("value",e.plan_id),s(),j("",e.plan_name," (",e.investment_type,")")}}function Ge(a,t){a&1&&(l(0,"p",91),r(1," This will create a new entry for the current month with this plan's details. "),i())}function Fe(a,t){a&1&&(l(0,"p",92),r(1," \u26A0\uFE0F This will update the plan template. Changes will not affect existing monthly entries. "),i())}function Ae(a,t){a&1&&(l(0,"p",93),r(1," \u26A0\uFE0F This will permanently delete the plan template. "),i())}function Te(a,t){if(a&1){let e=b();l(0,"div")(1,"label",21),r(2,"What would you like to do?"),i(),l(3,"div",89)(4,"button",90),u("click",function(){c(e);let o=m(2);return p(o.planAction.set(""))}),r(5," Edit "),i(),l(6,"button",90),u("click",function(){c(e);let o=m(2);return p(o.onPlanActionChange("edit"))}),r(7," Invest "),i(),l(8,"button",90),u("click",function(){c(e);let o=m(2);return p(o.onPlanActionChange("delete"))}),r(9," Delete Plan "),i()(),g(10,Ge,2,0,"p",91)(11,Fe,2,0,"p",92)(12,Ae,2,0,"p",93),i()}if(a&2){let e=m(2);s(4),F(e.planAction()===""?"bg-blue-500 text-white":"bg-gray-200 text-gray-700"),s(2),F(e.planAction()==="edit"?"bg-orange-500 text-white":"bg-gray-200 text-gray-700"),s(2),F(e.planAction()==="delete"?"bg-red-500 text-white":"bg-gray-200 text-gray-700"),s(2),v(e.planAction()===""?10:e.planAction()==="edit"?11:e.planAction()==="delete"?12:-1)}}function ke(a,t){if(a&1){let e=b();l(0,"div")(1,"label",21),r(2,"Select Existing Plan"),i(),l(3,"select",86),u("change",function(o){c(e);let d=m();return p(d.onExistingPlanSelect(o))}),l(4,"option",87),r(5,"Select a plan"),i(),M(6,Me,2,3,"option",88,ce),i()(),g(8,Te,13,7,"div")}if(a&2){let e=m();s(6),G(e.allPlans()),s(2),v(e.selectedExistingPlan()&&!e.editingPlanId()?8:-1)}}function Ve(a,t){a&1&&(l(0,"p",24),r(1,"Plan name is required"),i())}function Oe(a,t){a&1&&(l(0,"p",24),r(1,"Amount is required"),i())}function Ne(a,t){a&1&&(l(0,"p",24),r(1,"Rate is required"),i())}function De(a,t){a&1&&r(0," Delete Plan ")}function He(a,t){a&1&&r(0," Update Plan ")}function Re(a,t){a&1&&r(0," Update Entry ")}function je(a,t){a&1&&r(0," Add Plan ")}var me=class a{constructor(t,e,n){this.fb=t;this.authService=e;this.router=n;this.authService.session$.subscribe(o=>{o||this.router.navigate(["/login"])}),this.investmentForm=this.fb.group({plan_name:["",P.required],monthly_amount:[0,[P.required,P.min(0)]],investment_type:["gold",P.required],gold_rate:[0,[P.required,P.min(0)]],paid_date:[""],existing_plan_id:[""]})}showAddPlan=_(!1);investmentForm;editingPlanId=_(null);selectedPlanId=_(null);isCheckingData=_(!0);userId=_(null);investments=_([]);isAddingNew=_(!0);selectedExistingPlan=_(null);planAction=_("");showHistoryForPlan=_(null);planHistory=_([]);isLoadingHistory=_(!1);currentRates=_(new Map);planTotals=_(new Map);monthStore=I(W);supabaseService=I(L);goldInvestmentsService=I(U);appDataStore=I(q);allPlans=w(()=>{let t=this.investments(),e=new Map;return t.forEach(n=>{n.plan_id&&!e.has(n.plan_id)&&e.set(n.plan_id,n)}),Array.from(e.values())});goldPlans=w(()=>this.allPlans().filter(t=>t.investment_type==="gold"));silverPlans=w(()=>this.allPlans().filter(t=>t.investment_type==="silver"));totalGoldInvestment=w(()=>this.goldPlans().reduce((t,e)=>t+(e.monthly_amount||0),0));totalSilverInvestment=w(()=>this.silverPlans().reduce((t,e)=>t+(e.monthly_amount||0),0));totalGoldGrams=w(()=>this.goldPlans().reduce((t,e)=>{let n=e.gold_rate&&e.gold_rate>0?e.monthly_amount/e.gold_rate:0;return t+n},0));totalSilverGrams=w(()=>this.silverPlans().reduce((t,e)=>{let n=e.gold_rate&&e.gold_rate>0?e.monthly_amount/e.gold_rate:0;return t+n},0));async ngOnInit(){try{let t=await this.supabaseService.getCurrentUser();t&&await this.loadInvestments(t.id)}catch(t){console.error("Failed to get user:",t);let e=this.getOrCreateDemoUserId();this.userId.set(e),await this.loadInvestments(e)}await this.fetchGoldRates()}getOrCreateDemoUserId(){let t="demo-user-id",e=localStorage.getItem(t);return e||(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){let o=Math.random()*16|0;return(n==="x"?o:o&3|8).toString(16)}),localStorage.setItem(t,e)),e}async fetchGoldRates(){}async loadInvestments(t){if(this.isCheckingData.set(!0),!!t)try{if(this.appDataStore.goldInvestmentsLoaded()&&this.appDataStore.currentUserId()===t){let n=this.appDataStore.goldInvestments();this.investments.set(n),console.log("Using cached gold investments data")}else{await this.appDataStore.loadGoldInvestments(t);let n=this.appDataStore.goldInvestments();this.investments.set(n)}let e=this.allPlans();await this.loadPlanTotals(e)}catch(e){console.error("Error loading investments:",e)}finally{this.isCheckingData.set(!1)}}async loadPlanTotals(t){let e=new Map;for(let n of t)if(n.plan_id)try{let o=await this.goldInvestmentsService.getInvestmentHistory(this.userId(),n.plan_id),d=o.reduce((C,E)=>C+E.monthly_amount,0),y=o.reduce((C,E)=>{let pe=E.gold_rate&&E.gold_rate>0?E.monthly_amount/E.gold_rate:0;return C+pe},0);e.set(n.plan_id,{totalAmount:d,totalGrams:y})}catch(o){console.error("Error loading plan totals:",o)}this.planTotals.set(e)}openAddPlan(){this.showAddPlan.set(!0),this.resetForm()}closeAddPlan(){this.showAddPlan.set(!1),this.resetForm()}resetForm(){this.investmentForm.reset({plan_name:"",monthly_amount:0,investment_type:"gold",paid_date:"",existing_plan_id:""}),this.editingPlanId.set(null),this.isAddingNew.set(!0),this.selectedExistingPlan.set(null),this.planAction.set("")}onCardTypeChange(){this.investmentForm.patchValue({existing_plan_id:""}),this.selectedExistingPlan.set(null),this.planAction.set("")}onExistingPlanSelect(t){let n=t.target.value;if(!n){this.selectedExistingPlan.set(null);return}let o=this.allPlans().find(d=>d.plan_id===n);o&&(this.selectedExistingPlan.set(o),this.planAction.set(""),this.investmentForm.patchValue({plan_name:o.plan_name,monthly_amount:o.monthly_amount,investment_type:o.investment_type,gold_rate:o.gold_rate||0,paid_date:o.paid_date}))}onPlanActionChange(t){if(this.planAction.set(t),t==="edit"){let e=this.selectedExistingPlan();e&&this.investmentForm.patchValue({plan_name:e.plan_name,monthly_amount:e.monthly_amount,investment_type:e.investment_type,gold_rate:e.gold_rate||0,paid_date:e.paid_date})}}async submitInvestment(){if(this.investmentForm.invalid&&this.planAction()!=="delete"){Object.keys(this.investmentForm.controls).forEach(e=>{this.investmentForm.get(e)?.markAsTouched()});return}let t=this.userId();if(t)try{let e=this.planAction(),n=this.selectedExistingPlan();if(e==="delete"&&n)await this.goldInvestmentsService.deleteGoldInvestment(n.id);else if(this.editingPlanId())await this.goldInvestmentsService.updateGoldInvestment(this.editingPlanId(),{plan_name:this.investmentForm.value.plan_name,monthly_amount:this.investmentForm.value.monthly_amount,investment_type:this.investmentForm.value.investment_type,gold_rate:this.investmentForm.value.gold_rate,paid_date:this.investmentForm.value.paid_date});else if(n){let o={user_id:t,plan_id:n.plan_id,plan_name:n.plan_name,monthly_amount:this.investmentForm.value.monthly_amount,investment_type:n.investment_type,gold_rate:this.investmentForm.value.gold_rate,paid_date:this.investmentForm.value.paid_date};await this.goldInvestmentsService.addGoldInvestment(o)}else{let o=crypto.randomUUID(),d={user_id:t,plan_id:o,plan_name:this.investmentForm.value.plan_name,monthly_amount:this.investmentForm.value.monthly_amount,investment_type:this.investmentForm.value.investment_type,gold_rate:this.investmentForm.value.gold_rate,paid_date:this.investmentForm.value.paid_date};await this.goldInvestmentsService.addGoldInvestment(d),alert("Investment plan created successfully!")}t&&await this.loadInvestments(t),this.closeAddPlan()}catch(e){console.error("Error submitting investment:",e),alert("Failed to save investment. Please try again.")}}updateCurrentRate(t,e){let n=new Map(this.currentRates());n.set(t,e),this.currentRates.set(n)}getCurrentRate(t){return this.currentRates().get(t)||0}getCurrentValue(t,e){let n=this.getCurrentRate(t),o=this.planTotals().get(t),d=o?o.totalGrams:e;return n>0?parseFloat((d*n).toFixed(2)):0}getPlanTotalAmount(t){let e=this.planTotals().get(t);return e?e.totalAmount:0}getPlanTotalGramsFromMap(t){let e=this.planTotals().get(t);return e?e.totalGrams:0}formatPaidDate(t){if(!t)return"N/A";let e=new Date(t);return`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]} ${e.getFullYear()}`}async showPlanHistory(t){this.showHistoryForPlan.set(t.plan_id),this.isLoadingHistory.set(!0);try{let e=await this.goldInvestmentsService.getInvestmentHistory(this.userId(),t.plan_id);this.planHistory.set(e)}catch(e){console.error("Error loading plan history:",e)}finally{this.isLoadingHistory.set(!1)}}editPlan(t){this.editingPlanId.set(t.id),this.investmentForm.patchValue({plan_name:t.plan_name,monthly_amount:t.monthly_amount,investment_type:t.investment_type,gold_rate:t.gold_rate||0,paid_date:t.paid_date}),this.showAddPlan.set(!0)}async deletePlan(t){try{let e=this.userId();await this.goldInvestmentsService.deleteGoldInvestment(t),e&&await this.loadInvestments(e)}catch(e){console.error("Error deleting investment:",e),alert("Failed to delete investment. Please try again.")}}async deleteHistoryEntry(t){if(confirm("Are you sure you want to delete this investment entry?"))try{await this.goldInvestmentsService.deleteGoldInvestment(t);let e=this.showHistoryForPlan(),n=this.userId();if(e&&n){let o=await this.goldInvestmentsService.getInvestmentHistory(n,e);this.planHistory.set(o),await this.loadInvestments(n)}}catch(e){console.error("Error deleting investment entry:",e),alert("Failed to delete investment entry. Please try again.")}}formatIndianRupee(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}onAmountChange(t,e){let n=t.target,o=n.value.replace(/,/g,"");if(o===""||isNaN(Number(o))){this.investmentForm.patchValue({[e]:0}),n.value="0";return}let d=parseFloat(o);this.investmentForm.patchValue({[e]:d}),n.value=this.formatIndianRupee(d)}calculateTotalValue(t){return(t.gold_rate&&t.gold_rate>0?t.monthly_amount/t.gold_rate:0)*(t.gold_rate||0)}getPlanGrams(t){return t.gold_rate&&t.gold_rate>0?t.monthly_amount/t.gold_rate:0}getPlanGradient(t){return t==="gold"?"linear-gradient(135deg, #f6d365 0%, #fda085 100%)":"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)"}static \u0275fac=function(e){return new(e||a)(T(ae),T($),T(B))};static \u0275cmp=D({type:a,selectors:[["app-gold-silver"]],decls:76,vars:27,consts:[["amountInput",""],[1,"w-full","h-full","flex","flex-col","2xl:px-8","md:px-5"],[1,"w-full","2xl:h-[15%]","flex","place-items-center","justify-between"],[1,"font-medium","2xl:text-[25px]","text-[22px]"],[1,"flex","gap-3","justify-center","place-items-center"],[1,"p-3","flex","justify-center","place-items-center"],[1,"bx","bx-plus","rounded-[10px]","bg-[#08B783]","p-3","2xl:text-[20px]","text-[16px]","font-bold",2,"color","#ffffff",3,"click"],[1,"w-full","h-[85%]","flex","pb-5","2xl:gap-5","gap-2","flex-col"],[1,"w-full","flex-1","rounded-[10px]","bg-[#F7FCFC]","p-5","overflow-hidden"],[1,"w-full","h-full","flex","flex-col"],[1,"font-medium","2xl:text-[20px]","text-[16px]","mb-4","shrink-0"],[1,"flex-1","overflow-y-auto","min-h-0"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"w-full","flex","items-center","justify-center","text-gray-400","h-full"],[1,"mt-6","border-t","pt-6"],[1,"fixed","top-0","right-0","z-50","h-full","2xl:max-w-md","w-sm","bg-white","shadow-2xl","transform","transition-transform","duration-300","ease-in-out","flex","flex-col","translate-x-full"],[1,"flex","items-center","justify-between","p-4","border-b","bg-linear-to-r","from-yellow-400","to-yellow-600"],[1,"2xl:text-lg","font-semibold","text-white"],[1,"text-2xl","text-white","hover:text-gray-200",3,"click"],[1,"flex","flex-col","2xl:gap-4","gap-2","p-4","overflow-y-auto","flex-1","2xl:text-[15px]","text-[12px]",3,"ngSubmit","formGroup"],[1,"flex","gap-4","mb-4"],[1,"text-sm","font-medium"],[1,"text-red-500"],["type","text","formControlName","plan_name","placeholder","e.g., Tanishq Golden Harvest, Muthoot Gold",1,"mt-1","w-full","rounded-lg","border","px-3","py-2","outline-none",3,"readonly"],[1,"text-red-500","text-xs","mt-1"],["formControlName","investment_type",1,"mt-1","w-full","rounded-lg","border","px-3","py-2","outline-none",3,"disabled"],["value","gold"],["value","silver"],[1,"relative"],[1,"absolute","left-3","top-3","text-gray-500"],["type","text","formControlName","monthly_amount","placeholder","0",1,"mt-1","w-full","rounded-lg","border","px-10","py-2","outline-none",3,"input","readonly"],["type","number","step","0.01","formControlName","gold_rate","placeholder","0.00",1,"mt-1","w-full","rounded-lg","border","px-10","py-2","outline-none"],["type","date","formControlName","paid_date",1,"mt-1","w-full","rounded-lg","border","px-3","py-2","outline-none",3,"readonly"],[1,"mt-auto","flex","gap-3","pt-4"],["type","button",1,"flex-1","rounded-lg","bg-gray-200","py-2","hover:bg-gray-300",3,"click"],["type","submit",1,"flex-1","rounded-lg","text-white","py-2","transition-colors"],[1,"skeleton-card"],[1,"skeleton","skeleton-card-content"],[1,"plan-container"],[1,"investment-plan"],[1,"plan-face","plan-front"],[1,"plan-header"],[1,"plan-type"],[1,"bx",2,"font-size","24px","color","#fff"],[1,"uppercase","text-sm","font-bold"],[1,"plan-icon"],["type","button",1,"bg-white/20","hover:bg-white/30","rounded-full","w-8","h-8","flex","items-center","justify-center","transition-colors",3,"click"],[1,"bx","bx-info-circle","text-white","text-xl"],[1,"plan-name"],[1,"text-lg","font-bold"],[1,"plan-info"],[1,"info-row"],[1,"info-label"],[1,"info-value"],[1,"info-row","mt-2"],[1,"flex","items-center","gap-1"],[1,"text-xs"],["type","number","step","0.01","placeholder","0.00",1,"w-20","px-1","py-0.5","text-xs","rounded","border","border-white/30","bg-white/20","text-white","placeholder-white/70",3,"input","value"],[1,"info-row","mt-2","bg-white/20","p-2","px-3","rounded"],[1,"plan-actions"],[1,"info-value","font-bold"],[1,"plan-actions",3,"click"],[1,"action-btn","edit-btn",3,"click"],[1,"bx","bx-edit-alt"],[1,"action-btn","delete-btn",3,"click"],[1,"bx","bx-trash-alt"],[1,"flex","items-center","justify-between","mb-4"],[1,"font-medium","2xl:text-[18px]","text-[16px]"],["type","button",1,"text-gray-500","hover:text-gray-700",3,"click"],[1,"bx","bx-x","text-2xl"],[1,"text-center","text-gray-400","py-8"],[1,"overflow-x-auto"],[1,"w-full"],[1,"bg-gray-100"],[1,"px-4","py-3","text-left","text-xs","font-medium","text-gray-600","uppercase"],[1,"px-4","py-3","text-center","text-xs","font-medium","text-gray-600","uppercase"],[1,"divide-y","divide-gray-200"],[1,"hover:bg-gray-50"],[1,"px-4","py-3","text-sm"],[1,"px-4","py-3","text-sm","font-medium"],[1,"px-2","py-1","text-xs","rounded-full","uppercase"],[1,"px-4","py-3","text-sm","text-center"],["type","button","title","Delete this entry",1,"text-red-500","hover:text-red-700","hover:bg-red-50","p-1","rounded","transition-colors",3,"click"],[1,"bx","bx-trash","text-lg"],[1,"flex","items-center","gap-2","cursor-pointer"],["type","radio",1,"cursor-pointer",3,"ngModelChange","change","value","ngModel","ngModelOptions"],["formControlName","existing_plan_id",1,"mt-1","w-full","rounded-lg","border","px-3","py-2","outline-none","text-gray-900",3,"change"],["value",""],[3,"value"],[1,"flex","gap-3","mt-2"],["type","button",1,"flex-1","py-2","px-4","rounded-lg","font-medium","transition-colors",3,"click"],[1,"text-xs","text-gray-500","mt-2"],[1,"text-xs","text-orange-600","mt-2"],[1,"text-xs","text-red-600","mt-2"]],template:function(e,n){if(e&1){let o=b();l(0,"div",1)(1,"div",2)(2,"div",3),r(3,"Gold & Silver Investments"),i(),l(4,"div",4)(5,"div",5)(6,"i",6),u("click",function(){return c(o),p(n.openAddPlan())}),i()()()(),l(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10),r(11,"Your Investment Plans"),i(),l(12,"div",11),g(13,ve,3,1,"div",12)(14,xe,2,0,"div",13)(15,be,3,0,"div",12),i(),g(16,Ee,9,1,"div",14),i()()(),l(17,"div",15)(18,"div",16)(19,"h2",17),r(20),i(),l(21,"button",18),u("click",function(){return c(o),p(n.closeAddPlan())}),r(22,"\u2715"),i()(),l(23,"form",19),u("ngSubmit",function(){return c(o),p(n.submitInvestment())}),g(24,Ie,9,8,"div",20),g(25,ke,9,1),l(26,"div")(27,"label",21),r(28,"Plan Name "),l(29,"span",22),r(30,"*"),i()(),f(31,"input",23),g(32,Ve,2,0,"p",24),i(),l(33,"div")(34,"label",21),r(35,"Investment Type "),l(36,"span",22),r(37,"*"),i()(),l(38,"select",25)(39,"option",26),r(40,"Gold"),i(),l(41,"option",27),r(42,"Silver"),i()()(),l(43,"div")(44,"label",21),r(45,"Investment Amount "),l(46,"span",22),r(47,"*"),i()(),l(48,"div",28)(49,"span",29),r(50,"\u20B9"),i(),l(51,"input",30,0),u("input",function(y){return c(o),p(n.onAmountChange(y,"monthly_amount"))}),i()(),g(53,Oe,2,0,"p",24),i(),l(54,"div")(55,"label",21),r(56),l(57,"span",22),r(58,"*"),i()(),l(59,"div",28)(60,"span",29),r(61,"\u20B9"),i(),f(62,"input",31),i(),g(63,Ne,2,0,"p",24),i(),l(64,"div")(65,"label",21),r(66,"Paid Date"),i(),f(67,"input",32),i(),l(68,"div",33)(69,"button",34),u("click",function(){return c(o),p(n.closeAddPlan())}),r(70," Cancel "),i(),l(71,"button",35),g(72,De,1,0)(73,He,1,0)(74,Re,1,0)(75,je,1,0),i()()()()()}if(e&2){let o,d,y,C;s(13),v(n.isCheckingData()?13:n.allPlans().length===0?14:15),s(3),v(n.showHistoryForPlan()?16:-1),s(),S("translate-x-0",n.showAddPlan())("translate-x-full",!n.showAddPlan()),s(3),h(" ",n.editingPlanId()?"Edit Investment Plan":"Add Investment Plan"," "),s(3),x("formGroup",n.investmentForm),s(),v(n.editingPlanId()?-1:24),s(),v(!n.isAddingNew()&&!n.editingPlanId()?25:-1),s(6),S("bg-gray-100",n.selectedExistingPlan()&&n.planAction()===""),x("readonly",n.selectedExistingPlan()&&n.planAction()===""),s(),v((o=n.investmentForm.get("plan_name"))!=null&&o.invalid&&((o=n.investmentForm.get("plan_name"))!=null&&o.touched)?32:-1),s(6),x("disabled",!!(n.selectedExistingPlan()&&n.planAction()==="")),s(13),S("bg-gray-100",n.selectedExistingPlan()&&n.planAction()===""),x("readonly",n.selectedExistingPlan()&&n.planAction()===""),s(2),v((d=n.investmentForm.get("monthly_amount"))!=null&&d.invalid&&((d=n.investmentForm.get("monthly_amount"))!=null&&d.touched)?53:-1),s(3),h("",((y=n.investmentForm.get("investment_type"))==null?null:y.value)==="gold"?"Gold":"Silver"," Rate (per gram) "),s(7),v((C=n.investmentForm.get("gold_rate"))!=null&&C.invalid&&((C=n.investmentForm.get("gold_rate"))!=null&&C.touched)?63:-1),s(4),S("bg-gray-100",n.selectedExistingPlan()&&n.planAction()===""),x("readonly",n.selectedExistingPlan()&&n.planAction()===""),s(4),F(n.planAction()==="delete"?"bg-red-500 hover:bg-red-600":"bg-emerald-500 hover:bg-emerald-600"),s(),v(n.planAction()==="delete"?72:n.planAction()==="edit"?73:n.editingPlanId()?74:75)}},dependencies:[se,X,le,oe,Y,Z,ie,ee,J,K,ne,te,re,Q,z],styles:[".plan-container[_ngcontent-%COMP%]{perspective:1000px;cursor:pointer;height:280px}.investment-plan[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;transition:transform .6s;transform-style:preserve-3d}.investment-plan.flipped[_ngcontent-%COMP%]{transform:rotateY(180deg)}.plan-face[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;backface-visibility:hidden;border-radius:16px;padding:20px;box-shadow:0 8px 20px #00000026;color:#fff;display:flex;flex-direction:column}.plan-front[_ngcontent-%COMP%]{z-index:2}.plan-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.plan-type[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;background:#fff3;padding:8px 16px;border-radius:20px;font-size:14px;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.plan-icon[_ngcontent-%COMP%]{background:#fff3;padding:8px;border-radius:50%;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.plan-name[_ngcontent-%COMP%]{font-size:22px;display:flex;align-items:center}.plan-info[_ngcontent-%COMP%]{margin-top:auto}.info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.info-label[_ngcontent-%COMP%]{font-size:12px;opacity:.9;font-weight:500}.info-value[_ngcontent-%COMP%]{font-size:16px;font-weight:700;letter-spacing:1px}.plan-back[_ngcontent-%COMP%]{transform:rotateY(180deg);padding:24px}.plan-details[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;gap:12px}.detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0;border-bottom:1px solid rgba(255,255,255,.2)}.detail-row.highlight[_ngcontent-%COMP%]{background:#ffffff26;padding:12px;border-radius:8px;border-bottom:none;margin-top:8px}.detail-label[_ngcontent-%COMP%]{font-size:12px;opacity:.9;font-weight:500}.detail-value[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.plan-actions[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;gap:16px;z-index:10}.action-btn[_ngcontent-%COMP%]{background:#fffffff2;width:48px;height:48px;border-radius:50%;display:flex;align-items:center;justify-content:center;border:none;cursor:pointer;transition:all .3s ease;box-shadow:0 4px 12px #0003}.action-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}.edit-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#f97316}.delete-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ef4444}.skeleton-card[_ngcontent-%COMP%]{height:280px;border-radius:16px;overflow:hidden;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s ease-in-out infinite}.skeleton-card-content[_ngcontent-%COMP%]{width:100%;height:100%}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}@media(max-width:768px){.plan-container[_ngcontent-%COMP%]{height:260px}.plan-name[_ngcontent-%COMP%]{font-size:18px;min-height:50px}.info-value[_ngcontent-%COMP%]{font-size:14px}.action-btn[_ngcontent-%COMP%]{width:40px;height:40px}.action-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0;border-radius:8px;overflow:hidden}thead[_ngcontent-%COMP%]{background:#f3f4f6}tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#f9fafb}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:12px 16px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:10px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}"],changeDetection:0})};export{me as GoldSilver};
