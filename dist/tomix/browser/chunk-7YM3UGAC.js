import{A as le,B as se,F as de,G as ue,H as ce,a as H,k as Q,m as W,n as K,o as J,p as X,q as b,r as Z,s as ee,t as te,u as ne,v as ie,x as re,y as ae,z as oe}from"./chunk-ODYORDEL.js";import{$ as M,Aa as j,B as g,Ba as U,Ea as L,Ha as $,J as o,M as V,Ma as z,N as B,Ra as Y,Va as G,W as x,X as _,Y as R,_ as S,aa as m,ba as i,ca as n,da as d,ia as w,ja as f,la as p,ra as F,t as A,ta as r,u as y,ua as v,v as C,va as c,wa as h,za as q}from"./chunk-5JVNEETK.js";var ge=()=>({standalone:!0}),fe=()=>[1,2,3],pe=(l,a)=>a.fund_id,xe=(l,a)=>a.id;function _e(l,a){l&1&&(i(0,"div",54),d(1,"div",55),n())}function be(l,a){l&1&&(i(0,"div",26),S(1,_e,2,0,"div",54,R),n()),l&2&&(o(),M(L(0,fe)))}function ve(l,a){l&1&&(i(0,"div",27),d(1,"i",56),i(2,"p",57),r(3,"No investments added yet"),n(),i(4,"p",58),r(5,"Click the + button to add your first investment"),n()())}function he(l,a){if(l&1){let e=w();i(0,"div",59)(1,"div",60)(2,"div",61)(3,"div",62),d(4,"i",63),n(),i(5,"div",64)(6,"h3",65),r(7),n(),i(8,"p",66),r(9),n()()()(),i(10,"div",67)(11,"div",68)(12,"span",69),r(13,"Total Units"),n(),i(14,"span",70),r(15),n()(),i(16,"div",68)(17,"span",69),r(18,"Avg. Bought Price"),n(),i(19,"span",70),r(20),n()(),i(21,"div",68)(22,"span",69),r(23,"Current Price"),n(),i(24,"div",71)(25,"span",70),r(26),n(),i(27,"button",72),f("click",function(){let s=y(e).$implicit,u=p(2);return C(u.updateFundPrice(s))}),d(28,"i",73),n()()(),i(29,"div",68)(30,"span",69),r(31,"Total Invested"),n(),i(32,"span",70),r(33),n()(),i(34,"div",74)(35,"span",75),r(36,"Current Value"),n(),i(37,"span",76),r(38),n()(),i(39,"div",77)(40,"span",78),r(41),n(),i(42,"div",79)(43,"span",80),r(44),n(),i(45,"span",81),r(46),n()()(),i(47,"div",82)(48,"span"),r(49),n(),i(50,"span"),r(51),n()()(),i(52,"div",83)(53,"button",84),f("click",function(){let s=y(e).$implicit,u=p(2);return C(u.showFundTransactions(s))}),d(54,"i",85),r(55,"Transactions "),n(),i(56,"button",86),f("click",function(){let s=y(e).$implicit,u=p(2);return C(u.deleteFund(s))}),d(57,"i",87),n()()()}if(l&2){let e=a.$implicit,t=p(2);m("ngClass",e.fund_type==="Mutual Fund"?"border-blue-200":"border-purple-200"),o(3),m("ngClass",t.getFundTypeColor(e.fund_type)),o(),m("ngClass",t.getFundTypeIcon(e.fund_type)),o(3),c(" ",e.fund_name," "),o(2),v(e.fund_type),o(6),v(e.total_quantity),o(5),c("\u20B9",t.formatIndianRupee(e.avg_bought_price)),o(6),c("\u20B9",t.formatIndianRupee(e.current_price)),o(7),c("\u20B9",t.formatIndianRupee(e.total_invested)),o(5),c("\u20B9",t.formatIndianRupee(e.total_current_value)),o(),m("ngClass",e.total_profit_loss>=0?"bg-green-50":"bg-red-50"),o(),m("ngClass",e.total_profit_loss>=0?"text-green-700":"text-red-700"),o(),c(" ",e.total_profit_loss>=0?"Profit":"Loss"," "),o(2),m("ngClass",t.getProfitLossClass(e.total_profit_loss)),o(),h(" ",e.total_profit_loss>=0?"+":"","\u20B9",t.formatIndianRupee(e.total_profit_loss)," "),o(),m("ngClass",t.getProfitLossClass(e.total_profit_loss)),o(),h(" ",e.profit_loss_percentage>=0?"+":"","",e.profit_loss_percentage.toFixed(2),"% "),o(3),h("",e.transaction_count," transaction",e.transaction_count>1?"s":""),o(2),v(t.formatDate(e.first_purchase_date))}}function ye(l,a){if(l&1&&(i(0,"div",28),S(1,he,58,22,"div",59,pe),n()),l&2){let e=p();o(),M(e.fundsSummary())}}function Ce(l,a){l&1&&(i(0,"div",92),r(1," Loading transactions... "),n())}function Fe(l,a){l&1&&(i(0,"div",92),r(1," No transactions found "),n())}function Se(l,a){if(l&1){let e=w();i(0,"tr",99)(1,"td",100),r(2),n(),i(3,"td",101),r(4),n(),i(5,"td",100)(6,"span",102),r(7),n()(),i(8,"td",100),r(9),n(),i(10,"td",100),r(11),n(),i(12,"td",100),r(13),n(),i(14,"td",100),r(15),n(),i(16,"td",103),r(17),n(),i(18,"td",100)(19,"div",104)(20,"div",105),r(21),n(),i(22,"div",106),r(23),n()()(),i(24,"td",107)(25,"button",108),f("click",function(){let s=y(e).$implicit,u=p(3);return C(u.deleteTransaction(s.id))}),d(26,"i",109),n()()()}if(l&2){let e=a.$implicit,t=p(3);o(2),v(t.formatDate(e.purchase_date)),o(2),v(e.fund_name),o(2),m("ngClass",t.getFundTypeColor(e.fund_type)),o(),c(" ",e.fund_type," "),o(2),v(e.quantity),o(2),c("\u20B9",t.formatIndianRupee(e.bought_price)),o(2),c("\u20B9",t.formatIndianRupee(e.current_price)),o(2),c("\u20B9",t.formatIndianRupee(e.invested_amount)),o(2),c("\u20B9",t.formatIndianRupee(e.current_value)),o(2),m("ngClass",t.getProfitLossClass(e.profit_loss)),o(2),h(" ",e.profit_loss>=0?"+":"","\u20B9",t.formatIndianRupee(e.profit_loss)," "),o(2),h(" ",e.profit_loss_percentage>=0?"+":"","",e.profit_loss_percentage.toFixed(2),"% ")}}function Me(l,a){if(l&1&&(i(0,"div",93)(1,"table",94)(2,"thead",95)(3,"tr")(4,"th",96),r(5,"Date"),n(),i(6,"th",96),r(7,"Fund Name"),n(),i(8,"th",96),r(9,"Type"),n(),i(10,"th",96),r(11,"Quantity"),n(),i(12,"th",96),r(13,"Bought Price"),n(),i(14,"th",96),r(15,"Current Price"),n(),i(16,"th",96),r(17,"Invested"),n(),i(18,"th",96),r(19,"Current Value"),n(),i(20,"th",96),r(21,"P/L"),n(),i(22,"th",97),r(23,"Action"),n()()(),i(24,"tbody",98),S(25,Se,27,14,"tr",99,xe),n()()()),l&2){let e=p(2);o(25),M(e.selectedFundTransactions())}}function we(l,a){if(l&1){let e=w();i(0,"div",29)(1,"div",88)(2,"h3",89),r(3,"Transaction History"),n(),i(4,"button",90),f("click",function(){y(e);let s=p();return s.showTransactionsForFund.set(null),C(s.selectedFundTransactions.set([]))}),d(5,"i",91),n()(),x(6,Ce,2,0,"div",92)(7,Fe,2,0,"div",92)(8,Me,27,0,"div",93),n()}if(l&2){let e=p();o(6),_(e.isLoadingTransactions()?6:e.selectedFundTransactions().length===0?7:8)}}function Ie(l,a){if(l&1&&(i(0,"option",112),r(1),n()),l&2){let e=a.$implicit;m("value",e.fund_id),o(),h("",e.fund_name," (",e.fund_type,")")}}function Ee(l,a){if(l&1){let e=w();i(0,"div",38)(1,"label",39),r(2,"Select Existing Fund"),n(),i(3,"select",110),f("change",function(){y(e);let s=p();return C(s.onExistingFundSelect())}),i(4,"option",111),r(5,"-- Select a fund --"),n(),S(6,Ie,2,3,"option",112,pe),n()()}if(l&2){let e=p();o(6),M(e.availableFunds())}}function Pe(l,a){l&1&&(i(0,"p",42),r(1,"Fund/Stock name is required"),n())}function ke(l,a){l&1&&(i(0,"p",42),r(1,"Quantity must be greater than 0"),n())}function Oe(l,a){l&1&&(i(0,"p",42),r(1,"Bought price must be greater than 0"),n())}function Te(l,a){l&1&&(i(0,"p",42),r(1,"Current price must be greater than 0"),n())}function De(l,a){l&1&&(i(0,"p",42),r(1,"Purchase date is required"),n())}var me=class l{constructor(a,e,t){this.fb=a;this.authService=e;this.router=t;this.authService.session$.subscribe(s=>{s||this.router.navigate(["/login"])}),this.investmentForm=this.fb.group({fund_name:["",b.required],fund_type:["Mutual Fund",b.required],quantity:[0,[b.required,b.min(1e-4)]],bought_price:[0,[b.required,b.min(.01)]],current_price:[0,[b.required,b.min(.01)]],purchase_date:["",b.required],notes:[""],existing_fund_id:[""]})}showAddInvestment=g(!1);investmentForm;editingInvestmentId=g(null);isCheckingData=g(!0);userId=g(null);fundsSummary=g([]);selectedFundTransactions=g([]);showTransactionsForFund=g(null);isLoadingTransactions=g(!1);isAddingToExistingFund=g(!1);selectedExistingFundId=g(null);availableFunds=g([]);supabaseService=A(H);stocksMutualFundsService=A(Q);appDataStore=A(W);investmentStats=$(()=>{let e=this.fundsSummary().reduce((t,s)=>(t.totalInvested+=s.total_invested,t.totalCurrentValue+=s.total_current_value,t.totalProfitLoss+=s.total_profit_loss,s.fund_type==="Mutual Fund"?t.mutualFundsCount++:t.stocksCount++,t),{totalInvested:0,totalCurrentValue:0,totalProfitLoss:0,totalProfitLossPercentage:0,mutualFundsCount:0,stocksCount:0});return e.totalProfitLossPercentage=e.totalInvested>0?e.totalProfitLoss/e.totalInvested*100:0,e});async ngOnInit(){try{let a=await this.supabaseService.getCurrentUser();a&&(this.userId.set(a.id),await this.loadFundsSummary(a.id))}catch(a){console.error("Failed to get user:",a);let e=this.getOrCreateDemoUserId();this.userId.set(e),await this.loadFundsSummary(e)}}getOrCreateDemoUserId(){let a="demo-user-id",e=localStorage.getItem(a);return e||(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let s=Math.random()*16|0;return(t==="x"?s:s&3|8).toString(16)}),localStorage.setItem(a,e)),e}async loadFundsSummary(a){if(this.isCheckingData.set(!0),!!a)try{if(this.appDataStore.mutualFundsLoaded()&&this.appDataStore.currentUserId()===a){let e=this.appDataStore.mutualFunds();this.fundsSummary.set(e),this.availableFunds.set(e),console.log("Using cached mutual funds data")}else{await this.appDataStore.loadMutualFunds(a);let e=this.appDataStore.mutualFunds();this.fundsSummary.set(e),this.availableFunds.set(e)}}catch(e){console.error("Error loading funds summary:",e)}finally{this.isCheckingData.set(!1)}}openAddInvestment(){this.showAddInvestment.set(!0),this.isAddingToExistingFund.set(!1),this.selectedExistingFundId.set(null),this.investmentForm.reset({fund_type:"Mutual Fund",quantity:0,bought_price:0,current_price:0,purchase_date:new Date().toISOString().split("T")[0]})}closeAddInvestment(){this.showAddInvestment.set(!1),this.editingInvestmentId.set(null),this.isAddingToExistingFund.set(!1),this.selectedExistingFundId.set(null),this.investmentForm.reset()}onAddToExistingChange(){this.isAddingToExistingFund()?(this.investmentForm.get("fund_name")?.disable(),this.investmentForm.get("fund_type")?.disable()):(this.investmentForm.get("fund_name")?.enable(),this.investmentForm.get("fund_type")?.enable(),this.selectedExistingFundId.set(null))}onExistingFundSelect(){let a=this.investmentForm.get("existing_fund_id")?.value;if(a){let e=this.availableFunds().find(t=>t.fund_id===a);e&&(this.selectedExistingFundId.set(e.fund_id),this.investmentForm.patchValue({fund_name:e.fund_name,fund_type:e.fund_type,current_price:e.current_price}))}}async submitInvestment(){if(this.investmentForm.invalid){Object.keys(this.investmentForm.controls).forEach(e=>{this.investmentForm.controls[e].markAsTouched()});return}let a=this.userId();if(a)try{let e=this.investmentForm.getRawValue(),t;this.isAddingToExistingFund()&&this.selectedExistingFundId()?t=this.selectedExistingFundId():t=this.stocksMutualFundsService.generateFundId(e.fund_type,e.fund_name);let s={user_id:a,fund_id:t,fund_name:e.fund_name,fund_type:e.fund_type,quantity:parseFloat(e.quantity),bought_price:parseFloat(e.bought_price),current_price:parseFloat(e.current_price),purchase_date:e.purchase_date,notes:e.notes||""};this.editingInvestmentId()?await this.stocksMutualFundsService.updateInvestment(this.editingInvestmentId(),s):await this.stocksMutualFundsService.addInvestment(s),a&&await this.loadFundsSummary(a),this.showTransactionsForFund()&&await this.loadFundTransactions(this.showTransactionsForFund()),this.closeAddInvestment()}catch(e){console.error("Error saving investment:",e),alert("Failed to save investment. Please try again.")}}async showFundTransactions(a){this.showTransactionsForFund.set(a.fund_id),await this.loadFundTransactions(a.fund_id)}async loadFundTransactions(a){this.isLoadingTransactions.set(!0);let e=this.userId();if(e)try{let t=await this.stocksMutualFundsService.getFundTransactions(e,a);this.selectedFundTransactions.set(t)}catch(t){console.error("Error loading fund transactions:",t)}finally{this.isLoadingTransactions.set(!1)}}async updateFundPrice(a){let e=prompt(`Enter new current price for ${a.fund_name}:`,a.current_price.toString());if(e===null)return;let t=parseFloat(e);if(isNaN(t)||t<=0){alert("Please enter a valid price");return}let s=this.userId();if(s)try{await this.stocksMutualFundsService.updateFundCurrentPrice(s,a.fund_id,t),await this.loadFundsSummary(s),this.showTransactionsForFund()===a.fund_id&&await this.loadFundTransactions(a.fund_id)}catch(u){console.error("Error updating fund price:",u),alert("Failed to update price. Please try again.")}}async deleteTransaction(a){if(confirm("Are you sure you want to delete this transaction?"))try{let e=this.userId();await this.stocksMutualFundsService.deleteInvestment(a),e&&await this.loadFundsSummary(e),this.showTransactionsForFund()&&await this.loadFundTransactions(this.showTransactionsForFund())}catch(e){console.error("Error deleting transaction:",e),alert("Failed to delete transaction. Please try again.")}}async deleteFund(a){if(!confirm(`Are you sure you want to delete all transactions for ${a.fund_name}?`))return;let e=this.userId();if(e)try{await this.stocksMutualFundsService.deleteFund(e,a.fund_id),this.showTransactionsForFund()===a.fund_id&&(this.showTransactionsForFund.set(null),this.selectedFundTransactions.set([])),await this.loadFundsSummary(e)}catch(t){console.error("Error deleting fund:",t),alert("Failed to delete fund. Please try again.")}}formatIndianRupee(a){return new Intl.NumberFormat("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a)}formatDate(a){return new Date(a).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}getProfitLossClass(a){return a>0?"text-green-600":a<0?"text-red-600":"text-gray-600"}getFundTypeIcon(a){return a==="Mutual Fund"?"bx-line-chart":"bx-trending-up"}getFundTypeColor(a){return a==="Mutual Fund"?"bg-blue-100 text-blue-600":"bg-purple-100 text-purple-600"}static \u0275fac=function(e){return new(e||l)(V(de),V(K),V(G))};static \u0275cmp=B({type:l,selectors:[["app-mutual-funds"]],decls:124,vars:38,consts:[[1,"w-full","h-full","flex","flex-col","2xl:px-8","md:px-5"],[1,"w-full","2xl:h-[15%]","flex","place-items-center","justify-between"],[1,"font-medium","2xl:text-[25px]","text-[22px]","flex","items-center","gap-3"],[1,"bx","bx-trending-up","text-3xl","text-blue-600"],[1,"flex","gap-3","justify-center","place-items-center"],[1,"p-3","flex","justify-center","place-items-center"],[1,"bx","bx-plus","rounded-[10px]","bg-[#08B783]","p-3","2xl:text-[20px]","text-[16px]","font-bold",2,"color","#ffffff",3,"click"],[1,"w-full","mb-5","grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"bg-linear-to-br","from-blue-300","to-blue-600","rounded-xl","p-5","text-white","shadow-lg"],[1,"flex","items-center","justify-between"],[1,"text-sm","opacity-90","mb-1"],[1,"text-2xl","font-bold"],[1,"bx","bx-wallet","text-4xl","opacity-50"],[1,"bg-linear-to-br","from-green-300","to-green-600","rounded-xl","p-5","text-white","shadow-lg"],[1,"bx","bx-line-chart-down","text-4xl","opacity-50"],[1,"rounded-xl","p-5","text-white","shadow-lg",3,"ngClass"],[1,"text-xs","opacity-80"],[1,"bx","text-4xl","opacity-50",3,"ngClass"],[1,"bg-linear-to-br","from-purple-300","to-purple-600","rounded-xl","p-5","text-white","shadow-lg"],[1,"bx","bx-package","text-4xl","opacity-50"],[1,"w-full","flex-1","flex","pb-5","2xl:gap-5","gap-2","flex-col","overflow-hidden"],[1,"w-full","flex-1","rounded-[10px]","bg-[#F7FCFC]","p-5","overflow-hidden"],[1,"w-full","h-full","flex","flex-col"],[1,"font-medium","2xl:text-[20px]","text-[16px]","mb-4","shrink-0","flex","items-center","gap-2"],[1,"bx","bx-briefcase","text-blue-600"],[1,"flex-1","overflow-y-auto","min-h-0"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"w-full","flex","flex-col","items-center","justify-center","text-gray-400","h-full"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6","p-5"],[1,"mt-6","border-t","pt-6"],[1,"fixed","top-0","right-0","z-50","h-full","2xl:max-w-md","w-sm","bg-white","shadow-2xl","transform","transition-transform","duration-300","ease-in-out","flex","flex-col","translate-x-full"],[1,"flex","items-center","justify-between","p-4","border-b","bg-linear-to-r","from-blue-400","to-blue-600"],[1,"2xl:text-lg","font-semibold","text-white"],[1,"text-2xl","text-white","hover:text-gray-200",3,"click"],[1,"flex","flex-col","2xl:gap-4","gap-2","p-4","overflow-y-auto","flex-1","2xl:text-[15px]","text-[12px]",3,"ngSubmit","formGroup"],[1,"flex","items-center","gap-2","p-3","bg-blue-50","rounded-lg"],["type","checkbox","id","addToExisting",1,"w-4","h-4","text-blue-600",3,"ngModelChange","change","ngModel","ngModelOptions"],["for","addToExisting",1,"text-sm","font-medium","text-blue-900","cursor-pointer"],[1,"form-group"],[1,"block","font-medium","text-gray-700","mb-1"],[1,"text-red-500"],["type","text","formControlName","fund_name","placeholder","e.g., HDFC Top 100 Fund or Reliance Industries",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],[1,"text-red-500","text-xs","mt-1"],["formControlName","fund_type",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],["value","Mutual Fund"],["value","Stock"],["type","number","formControlName","quantity","step","0.0001","placeholder","Number of units",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],["type","number","formControlName","bought_price","step","0.01","placeholder","Price per unit at purchase",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],["type","number","formControlName","current_price","step","0.01","placeholder","Current market price",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],["type","date","formControlName","purchase_date",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],["formControlName","notes","rows","3","placeholder","Additional notes about this investment",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent","resize-none"],[1,"flex","gap-3","mt-4","pt-4","border-t"],["type","button",1,"flex-1","py-2","px-4","bg-gray-200","text-gray-700","rounded-lg","hover:bg-gray-300","transition-colors","font-medium",3,"click"],["type","submit",1,"flex-1","py-2","px-4","bg-blue-600","text-white","rounded-lg","hover:bg-blue-700","transition-colors","font-medium","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[1,"skeleton-card"],[1,"skeleton","skeleton-card-content"],[1,"bx","bx-package","text-6xl","mb-3"],[1,"text-lg"],[1,"text-sm"],[1,"fund-card","group","bg-white","rounded-xl","border-2","hover:border-blue-400","transition-all","duration-300","p-6","shadow-sm","hover:shadow-lg",3,"ngClass"],[1,"flex","items-start","justify-between","mb-4"],[1,"flex","items-center","gap-3","flex-1","min-w-0"],[1,"w-12","h-12","rounded-lg","flex","items-center","justify-center","shrink-0",3,"ngClass"],[1,"bx","bx-trending-up","text-2xl",3,"ngClass"],[1,"flex-1","min-w-0"],[1,"font-bold","text-lg","text-gray-800","line-clamp-2","group-hover:line-clamp-none","transition-all"],[1,"text-sm","text-gray-500"],[1,"space-y-3"],[1,"flex","justify-between","items-center","py-2","border-b","border-gray-100"],[1,"text-sm","text-gray-600"],[1,"font-semibold","text-gray-900"],[1,"flex","items-center","gap-2"],["type","button","title","Update price",1,"text-blue-500","hover:text-blue-700","text-xs",3,"click"],[1,"bx","bx-edit-alt"],[1,"flex","justify-between","items-center","py-3","bg-blue-50","rounded-lg","px-3"],[1,"text-sm","font-medium","text-blue-700"],[1,"font-bold","text-lg","text-blue-600"],[1,"flex","justify-between","items-center","py-3","rounded-lg","px-3",3,"ngClass"],[1,"text-sm","font-medium",3,"ngClass"],[1,"text-right"],[1,"font-bold","text-lg","block",3,"ngClass"],[1,"text-xs",3,"ngClass"],[1,"flex","justify-between","items-center","py-2","text-xs","text-gray-500"],[1,"flex","gap-2","mt-4","pt-4","border-t","border-gray-100"],[1,"flex-1","py-2","px-3","bg-blue-50","text-blue-600","rounded-lg","hover:bg-blue-100","transition-colors","text-sm","font-medium",3,"click"],[1,"bx","bx-list-ul","mr-1"],[1,"py-2","px-3","bg-red-50","text-red-600","rounded-lg","hover:bg-red-100","transition-colors","text-sm","font-medium",3,"click"],[1,"bx","bx-trash-alt"],[1,"flex","items-center","justify-between","mb-4"],[1,"font-medium","2xl:text-[18px]","text-[16px]"],["type","button",1,"text-gray-500","hover:text-gray-700",3,"click"],[1,"bx","bx-x","text-2xl"],[1,"text-center","text-gray-400","py-8"],[1,"overflow-x-auto"],[1,"w-full"],[1,"bg-gray-100"],[1,"px-4","py-3","text-left","text-xs","font-medium","text-gray-600","uppercase"],[1,"px-4","py-3","text-center","text-xs","font-medium","text-gray-600","uppercase"],[1,"divide-y","divide-gray-200"],[1,"hover:bg-gray-50"],[1,"px-4","py-3","text-sm"],[1,"px-4","py-3","text-sm","font-medium"],[1,"px-2","py-1","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"px-4","py-3","text-sm","font-bold","text-blue-600"],[3,"ngClass"],[1,"font-bold"],[1,"text-xs"],[1,"px-4","py-3","text-sm","text-center"],["type","button","title","Delete transaction",1,"text-red-500","hover:text-red-700","hover:bg-red-50","p-1","rounded","transition-colors",3,"click"],[1,"bx","bx-trash","text-lg"],["formControlName","existing_fund_id",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"change"],["value",""],[3,"value"]],template:function(e,t){if(e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),d(3,"i",3),i(4,"span"),r(5,"Stocks & Mutual Funds"),n()(),i(6,"div",4)(7,"div",5)(8,"i",6),f("click",function(){return t.openAddInvestment()}),n()()()(),i(9,"div",7)(10,"div",8)(11,"div",9)(12,"div")(13,"p",10),r(14,"Total Invested"),n(),i(15,"p",11),r(16),n()(),d(17,"i",12),n()(),i(18,"div",13)(19,"div",9)(20,"div")(21,"p",10),r(22,"Current Value"),n(),i(23,"p",11),r(24),n()(),d(25,"i",14),n()(),i(26,"div",15)(27,"div",9)(28,"div")(29,"p",10),r(30,"Profit/Loss"),n(),i(31,"p",11),r(32),n(),i(33,"p",16),r(34),n()(),d(35,"i",17),n()(),i(36,"div",18)(37,"div",9)(38,"div")(39,"p",10),r(40,"Total Funds"),n(),i(41,"p",11),r(42),n(),i(43,"p",16),r(44),n()(),d(45,"i",19),n()()(),i(46,"div",20)(47,"div",21)(48,"div",22)(49,"div",23),d(50,"i",24),i(51,"span"),r(52,"Your Investments Portfolio"),n()(),i(53,"div",25),x(54,be,3,1,"div",26)(55,ve,6,0,"div",27)(56,ye,3,0,"div",28),n(),x(57,we,9,1,"div",29),n()()(),i(58,"div",30)(59,"div",31)(60,"h2",32),r(61),n(),i(62,"button",33),f("click",function(){return t.closeAddInvestment()}),r(63,"\u2715"),n()(),i(64,"form",34),f("ngSubmit",function(){return t.submitInvestment()}),i(65,"div",35)(66,"input",36),U("ngModelChange",function(u){return j(t.isAddingToExistingFund,u)||(t.isAddingToExistingFund=u),u}),f("change",function(){return t.onAddToExistingChange()}),n(),i(67,"label",37),r(68," Add to existing fund "),n()(),x(69,Ee,8,0,"div",38),i(70,"div",38)(71,"label",39),r(72," Fund/Stock Name "),i(73,"span",40),r(74,"*"),n()(),d(75,"input",41),x(76,Pe,2,0,"p",42),n(),i(77,"div",38)(78,"label",39),r(79," Type "),i(80,"span",40),r(81,"*"),n()(),i(82,"select",43)(83,"option",44),r(84,"Mutual Fund"),n(),i(85,"option",45),r(86,"Stock"),n()()(),i(87,"div",38)(88,"label",39),r(89," Quantity/Units "),i(90,"span",40),r(91,"*"),n()(),d(92,"input",46),x(93,ke,2,0,"p",42),n(),i(94,"div",38)(95,"label",39),r(96," Bought Price (\u20B9) "),i(97,"span",40),r(98,"*"),n()(),d(99,"input",47),x(100,Oe,2,0,"p",42),n(),i(101,"div",38)(102,"label",39),r(103," Current Price (\u20B9) "),i(104,"span",40),r(105,"*"),n()(),d(106,"input",48),x(107,Te,2,0,"p",42),n(),i(108,"div",38)(109,"label",39),r(110," Purchase Date "),i(111,"span",40),r(112,"*"),n()(),d(113,"input",49),x(114,De,2,0,"p",42),n(),i(115,"div",38)(116,"label",39),r(117,"Notes (Optional)"),n(),d(118,"textarea",50),n(),i(119,"div",51)(120,"button",52),f("click",function(){return t.closeAddInvestment()}),r(121," Cancel "),n(),i(122,"button",53),r(123),n()()()()()),e&2){let s,u,I,E,P,k,O,T,D,N;o(16),c("\u20B9",t.formatIndianRupee(t.investmentStats().totalInvested)),o(8),c("\u20B9",t.formatIndianRupee(t.investmentStats().totalCurrentValue)),o(2),m("ngClass",t.investmentStats().totalProfitLoss>=0?"bg-linear-to-br from-emerald-300 to-emerald-600":"bg-linear-to-br from-red-500 to-red-600"),o(6),c("\u20B9",t.formatIndianRupee(t.investmentStats().totalProfitLoss)),o(2),c("",t.investmentStats().totalProfitLossPercentage.toFixed(2),"%"),o(),m("ngClass",t.investmentStats().totalProfitLoss>=0?"bx-trending-up":"bx-trending-down"),o(7),v(t.investmentStats().mutualFundsCount+t.investmentStats().stocksCount),o(2),h("",t.investmentStats().mutualFundsCount," MF | ",t.investmentStats().stocksCount," Stocks"),o(10),_(t.isCheckingData()?54:t.fundsSummary().length===0?55:56),o(3),_(t.showTransactionsForFund()?57:-1),o(),F("translate-x-0",t.showAddInvestment())("translate-x-full",!t.showAddInvestment()),o(3),c(" ",t.editingInvestmentId()?"Edit Investment":"Add Investment"," "),o(3),m("formGroup",t.investmentForm),o(2),q("ngModel",t.isAddingToExistingFund),m("ngModelOptions",L(37,ge)),o(3),_(t.isAddingToExistingFund()?69:-1),o(6),F("border-red-500",((s=t.investmentForm.get("fund_name"))==null?null:s.invalid)&&((s=t.investmentForm.get("fund_name"))==null?null:s.touched)),o(),_((u=t.investmentForm.get("fund_name"))!=null&&u.invalid&&((u=t.investmentForm.get("fund_name"))!=null&&u.touched)?76:-1),o(16),F("border-red-500",((I=t.investmentForm.get("quantity"))==null?null:I.invalid)&&((I=t.investmentForm.get("quantity"))==null?null:I.touched)),o(),_((E=t.investmentForm.get("quantity"))!=null&&E.invalid&&((E=t.investmentForm.get("quantity"))!=null&&E.touched)?93:-1),o(6),F("border-red-500",((P=t.investmentForm.get("bought_price"))==null?null:P.invalid)&&((P=t.investmentForm.get("bought_price"))==null?null:P.touched)),o(),_((k=t.investmentForm.get("bought_price"))!=null&&k.invalid&&((k=t.investmentForm.get("bought_price"))!=null&&k.touched)?100:-1),o(6),F("border-red-500",((O=t.investmentForm.get("current_price"))==null?null:O.invalid)&&((O=t.investmentForm.get("current_price"))==null?null:O.touched)),o(),_((T=t.investmentForm.get("current_price"))!=null&&T.invalid&&((T=t.investmentForm.get("current_price"))!=null&&T.touched)?107:-1),o(6),F("border-red-500",((D=t.investmentForm.get("purchase_date"))==null?null:D.invalid)&&((D=t.investmentForm.get("purchase_date"))==null?null:D.touched)),o(),_((N=t.investmentForm.get("purchase_date"))!=null&&N.invalid&&((N=t.investmentForm.get("purchase_date"))!=null&&N.touched)?114:-1),o(8),m("disabled",t.investmentForm.invalid),o(),c(" ",t.editingInvestmentId()?"Update":"Add"," Investment ")}},dependencies:[ce,ne,le,se,X,ie,J,oe,Z,ee,ae,re,ue,te,Y,z],styles:['.fund-card[_ngcontent-%COMP%]{position:relative;overflow:hidden;cursor:pointer;transition:all .3s ease}.line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;word-break:break-word}.group[_ngcontent-%COMP%]:hover   .group-hover\\:line-clamp-none[_ngcontent-%COMP%]{display:block;-webkit-line-clamp:unset;-webkit-box-orient:unset;overflow:visible}.fund-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:linear-gradient(45deg,transparent 30%,rgba(255,255,255,.1) 50%,transparent 70%);transform:rotate(45deg);transition:all .5s ease}.fund-card[_ngcontent-%COMP%]:hover:before{animation:_ngcontent-%COMP%_shine 1.5s ease-in-out}@keyframes _ngcontent-%COMP%_shine{0%{left:-50%}to{left:150%}}.fund-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 12px 24px #00000026}.w-sm[_ngcontent-%COMP%]{width:28rem;max-width:90vw}.form-group[_ngcontent-%COMP%]{margin-bottom:1rem}.form-group[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{transition:all .2s ease}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #3b82f61a}.skeleton-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;height:400px;position:relative;overflow:hidden}.skeleton[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s ease-in-out infinite;border-radius:8px}.skeleton-card-content[_ngcontent-%COMP%]{width:100%;height:100%}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}.stats-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .5s ease-out}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.fund-type-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.25rem;padding:.25rem .75rem;border-radius:9999px;font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em}.profit-indicator[_ngcontent-%COMP%]{position:relative;padding-left:1.5rem}.profit-indicator[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:50%;transform:translateY(-50%);width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent}.profit-indicator.positive[_ngcontent-%COMP%]:before{border-bottom:8px solid #10b981}.profit-indicator.negative[_ngcontent-%COMP%]:before{border-top:8px solid #ef4444}table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:sticky;top:0;background:#f3f4f6;z-index:10}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .2s ease}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:10px}.overflow-y-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar{height:8px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:10px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#888;border-radius:10px}.overflow-x-auto[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#555}button[_ngcontent-%COMP%]{position:relative;overflow:hidden;transition:all .3s ease}button[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;left:50%;width:0;height:0;border-radius:50%;background:#ffffff80;transform:translate(-50%,-50%);transition:width .6s,height .6s}button[_ngcontent-%COMP%]:active:after{width:300px;height:300px}@media(max-width:768px){.fund-card[_ngcontent-%COMP%]{padding:1rem}.w-sm[_ngcontent-%COMP%]{width:100vw}}@keyframes _ngcontent-%COMP%_priceUpdate{0%,to{transform:scale(1)}50%{transform:scale(1.1);color:#3b82f6}}.price-updated[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_priceUpdate .5s ease-in-out}.fund-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInScale .4s ease-out backwards}.fund-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.fund-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.fund-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.fund-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.fund-card[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.fund-card[_ngcontent-%COMP%]:nth-child(6){animation-delay:.6s}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.9)}to{opacity:1;transform:scale(1)}}.empty-state[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.stats-gradient[_ngcontent-%COMP%]{position:relative;background:linear-gradient(135deg,#667eea,#764ba2)}.stats-gradient[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;border-radius:inherit;padding:2px;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-mask:linear-gradient(#fff 0 0) content-box,linear-gradient(#fff 0 0);-webkit-mask-composite:xor;mask-composite:exclude}.fund-id-badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInRight .3s ease-out}@keyframes _ngcontent-%COMP%_slideInRight{0%{opacity:0;transform:translate(-10px)}to{opacity:1;transform:translate(0)}}[title][_ngcontent-%COMP%]{position:relative}[title][_ngcontent-%COMP%]:hover:after{content:attr(title);position:absolute;bottom:100%;left:50%;transform:translate(-50%);padding:.5rem;background:#000c;color:#fff;font-size:.75rem;white-space:nowrap;border-radius:.25rem;z-index:1000;animation:_ngcontent-%COMP%_tooltipFadeIn .2s ease-out}@keyframes _ngcontent-%COMP%_tooltipFadeIn{0%{opacity:0;transform:translate(-50%) translateY(5px)}to{opacity:1;transform:translate(-50%) translateY(0)}}.loading-spinner[_ngcontent-%COMP%]{border:3px solid #f3f3f3;border-top:3px solid #3b82f6;border-radius:50%;width:40px;height:40px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:20px auto}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.transaction-row-highlight[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_highlightRow 1s ease-out}@keyframes _ngcontent-%COMP%_highlightRow{0%,to{background-color:transparent}50%{background-color:#dbeafe}}'],changeDetection:0})};export{me as MutualFunds};
